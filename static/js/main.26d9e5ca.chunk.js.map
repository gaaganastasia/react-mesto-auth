{"version":3,"sources":["images/Union.svg","images/Union-err.svg","components/InfoTooltip.js","components/Login.js","components/Register.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/authApi.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["InfoTooltip","props","className","isOpen","method","action","noValidate","type","onClick","onClose","src","isRegisterSuccess","tooltipImg","errTooltipImg","alt","withRouter","React","useState","email","setEmail","password","setPassword","name","onSubmit","e","preventDefault","onLogin","htmlFor","minLength","maxLength","placeholder","value","onChange","target","id","required","onRegister","to","Header","headerLogo","exact","path","userEmail","onSignOut","localStorage","removeItem","history","push","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteBtnClassName","isLiked","likes","some","i","cardLikeBtnClassName","link","onCardClick","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","year","Date","getFullYear","ImagePopup","PopupWithForm","title","children","btnName","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardNameRef","cardLinkRef","onUpdateCards","handleOriginalResponse","res","ok","json","Promise","reject","status","handleError","err","console","log","api","options","this","_url","url","_headers","headers","fetch","then","catch","userName","userInfo","body","JSON","stringify","userAvatar","cardId","authorization","authApi","String","data","token","setItem","jwt","Authorization","Accept","ProtectedRoute","Component","component","loggedIn","App","useHistory","setLoggedIn","setUserEmail","tokenCheck","getItem","checkToken","isTooltipOpen","setIsTooltipOpen","setIsRegisterSuccess","handleIsTooltipOpen","successRegister","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","undefined","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getProfileInfo","getInitialCards","initialCards","Provider","register","authorize","changeLikeCardStatus","newCard","newCards","c","handleCardLike","deleteCard","filter","handleCardDelete","setProfileInfo","createNewCard","setProfileAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.26d9e5ca.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Union-err.df8eddf6.svg\";","import tooltipImg from \"../images/Union.svg\";\r\nimport errTooltipImg from \"../images/Union-err.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <div className={`popup-form ${props.isOpen ? `popup_opened` : ``}`}>\r\n      <form\r\n        method=\"get\"\r\n        action=\"index.html\"\r\n        className=\"tooltip__container\"\r\n        noValidate\r\n      >\r\n        <button\r\n          type=\"reset\"\r\n          className=\"popup__reset\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          className=\"tooltip__img\"\r\n          src={props.isRegisterSuccess ? tooltipImg : errTooltipImg}\r\n          alt={props.isRegisterSuccess ? `регистрация прошла успешно` : `ошибка регистрации`}\r\n        ></img>\r\n        <h2 className=\"tooltip__text\">{`${\r\n          props.isRegisterSuccess\r\n            ? `Вы успешно зарегистрировались!`\r\n            : `Что-то пошло не так! Попробуйте ещё раз.`\r\n        }`}</h2>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    props.onLogin(email, password);\r\n  }\r\n\r\n  return (\r\n    <div className=\"form__container\">\r\n      <h1 className=\"form__header\">Вход</h1>\r\n      <form\r\n        method=\"post\"\r\n        action=\"index.html\"\r\n        name=\"sign-in\"\r\n        className=\"form\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <label className=\"form__field\" htmlFor=\"email\">\r\n          <input\r\n            name=\"email\"\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={handleChangeEmail}\r\n            id=\"email\"\r\n            className=\"form__input form__input-email\"\r\n            required\r\n          ></input>\r\n          <span className=\"form__input-error\" id=\"email-input-error\"></span>\r\n        </label>\r\n        <label className=\"form__field\" htmlFor=\"password\">\r\n          <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            minLength=\"8\"\r\n            maxLength=\"30\"\r\n            placeholder=\"Пароль\"\r\n            value={password}\r\n            onChange={handleChangePassword}\r\n            id=\"password\"\r\n            className=\"form__input form__input-password\"\r\n            required\r\n          ></input>\r\n          <span className=\"form__input-error\" id=\"password-input-error\"></span>\r\n        </label>\r\n        <button type=\"submit\" className=\"form__submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nconst Register = (props) => {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    props.onRegister(email, password);\r\n  }\r\n\r\n  return (\r\n    <div className=\"form__container\">\r\n      <h1 className=\"form__header\">Регистрация</h1>\r\n      <form\r\n        method=\"post\"\r\n        action=\"index.html\"\r\n        name=\"sign-in\"\r\n        className=\"form\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <label className=\"form__field\" htmlFor=\"email-input\">\r\n          <input\r\n            name=\"sign-in\"\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={handleChangeEmail}\r\n            id=\"email-input\"\r\n            className=\"form__input form__input-email\"\r\n          ></input>\r\n          <span className=\"form__input-error\" id=\"email-input-error\"></span>\r\n        </label>\r\n        <label className=\"form__field\" htmlFor=\"password-input\">\r\n          <input\r\n            name=\"sign-in\"\r\n            type=\"password\"\r\n            minLength=\"8\"\r\n            maxLength=\"30\"\r\n            placeholder=\"Пароль\"\r\n            value={password}\r\n            onChange={handleChangePassword}\r\n            id=\"password-input\"\r\n            className=\"form__input form__input-password\"\r\n          ></input>\r\n          <span className=\"form__input-error\" id=\"password-input-error\"></span>\r\n        </label>\r\n        <button type=\"submit\" className=\"form__submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <p className=\"form__text\">\r\n          Уже зарегистрированы?{\" \"}\r\n          <Link to=\"/sign-in\" className=\"form__link\">\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Register);\r\n","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import headerLogo from \"../images/logo.svg\";\r\nimport React from \"react\";\r\nimport { Route, Link } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  function signOut() {\r\n    props.onSignOut();\r\n    localStorage.removeItem(\"jwt\");\r\n    props.history.push(\"/sign-in\");\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n      <Route exact path=\"/\">\r\n        <p className=\"header__info\">\r\n          {props.userEmail}\r\n          <Link to=\"/sign-in\" className=\"header__link\" onClick={signOut}>\r\n            Выйти\r\n          </Link>\r\n        </p>\r\n      </Route>\r\n\r\n      <Route path=\"/sign-up\">\r\n        <p className=\"header__info\">\r\n          <Link to=\"/sign-in\" className=\"header__link\">\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </Route>\r\n\r\n      <Route path=\"/sign-in\">\r\n        <p className=\"header__info\">\r\n          <Link to=\"/sign-up\" className=\"header__link\">\r\n            Регистрация\r\n          </Link>\r\n        </p>\r\n      </Route>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteBtnClassName = `element__delete ${\r\n    isOwn ? \"element__delete_shown\" : \"\"\r\n  }`;\r\n\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeBtnClassName = `element__like ${\r\n    isLiked ? \"element__like_active\" : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"elements__element element\">\r\n      <img\r\n        src={props.card.link}\r\n        alt={`Фото ${props.card.name}`}\r\n        className=\"element__image\"\r\n        onClick={props.onCardClick}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteBtnClassName}\r\n        onClick={props.onCardDelete}\r\n      ></button>\r\n      <h3 className=\"element__title\">{props.card.name}</h3>\r\n      <div className=\"element__like-container\">\r\n        <button\r\n          type=\"button\"\r\n          className={cardLikeBtnClassName}\r\n          onClick={props.onCardLike}\r\n        ></button>\r\n        <p className=\"element__like-counter\">{props.card.likes.length}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport Card from \"./Card.js\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__form\">\r\n          <div\r\n            className=\"profile__image-container\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар профиля\"\r\n              className=\"profile__image\"\r\n            />\r\n            <div className=\"profile__image-overlay\"></div>\r\n          </div>\r\n          <div className=\"profile__info info\">\r\n            <h1 className=\"info__title\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"info__edit-button\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n            <p className=\"info__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            card={card}\r\n            onCardClick={() => props.onCardClick(card)}\r\n            onCardLike={() => props.onCardLike(card)}\r\n            onCardDelete={() => props.onCardDelete(card)}\r\n            key={card._id}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  const year = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; {year} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup-img popup-${props.name} ${\r\n        props.card && `popup_opened`\r\n      }`}\r\n    >\r\n      <div className=\"popup-img__container\">\r\n        <button\r\n          type=\"reset\"\r\n          className=\"popup__reset popup-img__reset\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <figure className=\"popup-img__figure\">\r\n          <img\r\n            src={props.card && props.card.link}\r\n            alt={props.card && `Фото ${props.card.name}`}\r\n            className=\"popup-img__image\"\r\n          />\r\n          <figcaption className=\"popup-img__caption\">\r\n            {props.card && props.card.name}\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup-form popup-${props.name} ${\r\n        props.isOpen ? `popup_opened` : ``\r\n      }`}\r\n    >\r\n      <form\r\n        onSubmit={props.onSubmit}\r\n        method=\"get\"\r\n        action=\"index.html\"\r\n        name={props.name}\r\n        className=\"popup-form__container popup-edit__container\"\r\n        noValidate\r\n      >\r\n        <button\r\n          type=\"reset\"\r\n          className={`popup__reset popup-${props.name}__reset`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup-form__header\">{props.title}</h2>\r\n        {props.children}\r\n        <button type=\"submit\" className=\"popup-form__submit\">\r\n          {props.btnName}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      btnName=\"Сохранить\"\r\n      children={\r\n        <>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"profile-change\"\r\n              type=\"text\"\r\n              minLength=\"2\"\r\n              maxLength=\"40\"\r\n              placeholder=\"Имя\"\r\n              value={name}\r\n              onChange={handleChangeName}\r\n              id=\"profile-name-input\"\r\n              className=\"popup-form__input popup-edit__input_name\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"profile-name-input-error\"\r\n            ></span>\r\n          </label>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"profile-change\"\r\n              type=\"text\"\r\n              minLength=\"2\"\r\n              maxLength=\"200\"\r\n              placeholder=\"Профессия\"\r\n              value={description}\r\n              onChange={handleChangeDescription}\r\n              id=\"profile-job-input\"\r\n              className=\"popup-form__input popup-edit__input_job\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"profile-job-input-error\"\r\n            ></span>\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      btnName=\"Сохранить\"\r\n      children={\r\n        <>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"profile-avatar-change\"\r\n              type=\"url\"\r\n              ref={avatarRef}\r\n              placeholder=\"Ссылка\"\r\n              id=\"url-input\"\r\n              className=\"popup-form__input popup-edit-avatar__input\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"url-input-error\"\r\n            ></span>\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const cardNameRef = React.useRef();\r\n  const cardLinkRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateCards(cardNameRef.current.value, cardLinkRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      btnName=\"Создать\"\r\n      children={\r\n        <>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"card-add\"\r\n              type=\"text\"\r\n              ref={cardNameRef}\r\n              minLength=\"2\"\r\n              maxLength=\"30\"\r\n              placeholder=\"Название\"\r\n              id=\"card-title-input\"\r\n              className=\"popup-form__input popup-add__input_title\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"card-title-input-error\"\r\n            ></span>\r\n          </label>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"card-add\"\r\n              type=\"url\"\r\n              ref={cardLinkRef}\r\n              placeholder=\"Ссылка на картинку\"\r\n              id=\"card-url-input\"\r\n              className=\"popup-form__input popup-add__input_url\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"card-url-input-error\"\r\n            ></span>\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","const handleOriginalResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nconst handleError = (err) => {\r\n  console.log(err);\r\n};\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      //карточки\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  setProfileInfo(userName, userInfo) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: userInfo,\r\n      }),\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  setProfileAvatar(userAvatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: userAvatar,\r\n      }),\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  createNewCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      })\r\n        .then(handleOriginalResponse)\r\n        .catch(handleError);\r\n    } else {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      })\r\n        .then(handleOriginalResponse)\r\n        .catch(handleError);\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\r\n  headers: {\r\n    authorization: \"0f98b9d9-de6c-47c4-8011-fc8d2aa2d9ac\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  register(email, password) {\r\n    return fetch(`${this._url}/signup`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        email: String(email),\r\n        password: String(password),\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  authorize(email, password) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        email: String(email),\r\n        password: String(password),\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          return data;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  checkToken(jwt) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n}\r\n\r\nconst authApi = new Api({\r\n  url: \"https://auth.nomoreparties.co\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n    Accept: \"application/json\",\r\n  },\r\n});\r\n\r\nexport default authApi;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport api from \"../utils/api\";\r\nimport authApi from \"../utils/authApi\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n  const [userEmail, setUserEmail] = React.useState(\"\");\r\n\r\n  function tokenCheck() {\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      const jwt = localStorage.getItem(\"jwt\");\r\n      authApi\r\n        .checkToken(jwt)\r\n        .then((res) => {\r\n          setUserEmail(res.data.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, [loggedIn]);\r\n\r\n\r\n  function handleLogin(email, password) {\r\n    authApi\r\n      .authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  function handleSignUp(email, password) {\r\n    authApi\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res.data) {\r\n          history.push(\"/sign-in\");\r\n          handleIsTooltipOpen(true);\r\n        } else {\r\n          handleIsTooltipOpen(false);\r\n        }\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\r\n  const [isRegisterSuccess, setIsRegisterSuccess] = React.useState(false);\r\n  const handleIsTooltipOpen = (successRegister) => {\r\n    setIsTooltipOpen(!isTooltipOpen);\r\n    setIsRegisterSuccess(successRegister);\r\n  };\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const handleEditProfileClick = () =>\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const handleAddPlaceClick = () =>\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const handleEditAvatarClick = () =>\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\r\n  const handleCardClick = (card) => setSelectedCard(card);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const closeAllPopups = () => {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard(undefined);\r\n    setIsTooltipOpen(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getProfileInfo()\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setProfileInfo(data.name, data.about)\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api\r\n      .setProfileAvatar(avatar)\r\n      .then((userAvatar) => {\r\n        setCurrentUser(userAvatar);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((initialCards) => {\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(name, link) {\r\n    api\r\n      .createNewCard(name, link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header\r\n          userEmail={userEmail}\r\n          onSignOut={handleLogout}\r\n          history={history}\r\n        />\r\n\r\n        <Switch>\r\n          <Route path=\"/sign-up\">\r\n            <Register\r\n              history={history}\r\n              handleIsTooltipOpen={handleIsTooltipOpen}\r\n              onRegister={handleSignUp}\r\n            />\r\n          </Route>\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login\r\n              loggedIn={loggedIn}\r\n              onLogin={handleLogin}\r\n              tokenCheck={tokenCheck}\r\n              history={history}\r\n            />\r\n          </Route>\r\n\r\n          <ProtectedRoute\r\n            path=\"/\"\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            userEmail={userEmail}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={(card) => handleCardLike(card)}\r\n            onCardDelete={(card) => handleCardDelete(card)}\r\n          ></ProtectedRoute>\r\n        </Switch>\r\n\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateCards={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\r\n\r\n        <InfoTooltip\r\n          isRegisterSuccess={isRegisterSuccess}\r\n          isOpen={isTooltipOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\" btnName=\"Да\" />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}